var ppppp=null;!function(s,c){var u=function(p){var t={addTarget:c("body"),type:1,className:"",shade:{bgColor:"#000000",opacity:.5,close:!1},size:{full:0,width:"auto",height:"auto"},position:{fixed:1,pos:"m-c"},animate:["zoomIn","zoomOut"],autoClose:!1,move:0,head:"默认标题",opBtn:{close:1,min:1,max:1},con:{html:"提示信息",icon:1,src:null,btn:null},closeCallBack:null};this.j=c.extend(!0,{},t,p),this.createDom()};u.prototype={constructor:u,numbers:0,allPopupList:null,alertType:["alert","html","iframe","loading","taps","tab"],alertIcon:['<i class="evicon evicon-right-1 text-success"></i>','<i class="evicon evicon-close-2 text-warning"></i>','<i class="evicon evicon-point-2 text-info"></i>','<i class="evicon load-wait"></i>'],winAttr:function(){var p=c(s),t=c(document);return{winW:p.width(),winH:p.height(),docW:t.width(),docH:t.height(),docST:t.scrollTop(),docSL:t.scrollLeft(),popupW:this.popup.width(),popupH:this.popup.height()}},maxZindex:function(){var e=[];return c("*").each(function(p,t){var o=(t=c(t)).css("z-index");!isNaN(o)&&e.push(1*o)}),Math.max(Math.max.apply(null,e),1e3)},createDom:function(){var p,t,o=this,e=o.j,i=[],n=[],a=[];o.numbers=u.prototype.numbers++,o.zIndex=o.maxZindex()+1,o.winObject={originWindow:s,originDocument:s.document,parWindow:s.parent,parDocument:s.parent.document,topWindow:s.top,topDocument:s.top.document},e.shade&&(p=["z-index:"+o.zIndex++],e.shade.bgColor&&p.push(" background-color:"+e.shade.bgColor),!isNaN(e.shade.opacity)&&("string"==typeof e.shade.opacity||"number"==typeof e.shade.opacity)&&p.push(" opacity:"+e.shade.opacity),o.popupShade=c("<div/>",{class:"popup-shade",id:"popupShade_"+o.numbers,"data-index":o.numbers,style:p.join(";")}).appendTo(e.addTarget),e.shade.close&&o.popupShade.on("click",function(){o.popupClose()})),e.head&&i.push('<div class="popup-head"><span class="popup-title">'+(e.head||"")+"</span></div>"),e.opBtn&&(n.push('<div class="popup-option">'),e.opBtn.min&&n.push('<i class="evicon evicon-resize-xs-1" data-action="min" title="最小化"></i>'),e.opBtn.max&&n.push('<i class="evicon evicon-resize-lg-1" data-action="max" title="最大化"></i><i class="evicon evicon-resize-orig-1" data-action="orig" title="还原"></i>'),e.opBtn.close&&n.push('<i class="evicon evicon-close-1" data-action="close" title="关闭"></i>'),n.push("</div>")),function(){switch(a.push('<div class="popup-body"><div class="popup-body-inside">'),e.type){case 1:a.push('<div class="popup-alert-con"><div class="popup-hint-info">'),e.con.icon&&a.push(o.alertIcon[e.con.icon-1]||o.alertIcon[0]),e.con.html&&a.push(e.con.html),a.push("</div></div>"),e.con.btn&&(a.push('<div class="popup-but-area"><span class="popup-but">'),c.each(e.con.btn,function(p,t){a.push('<a href="javascript:;" data-btn-index="'+p+'" data-action="btn" class="btn btn-sm '+t.className+'">'+t.text+"</a>")}),a.push("</span></div>"));break;case 2:a.push('<div class="popup-layer-con">'),a.push(e.con.html?e.con.html instanceof jQuery?e.con.html.html():e.con.html:"<p>html代码</p>"),a.push("</div>");break;case 3:a.push('<div class="popup-iframe-con"><div class="popup-loading-wait"></div>'),a.push('<iframe src="'+e.con.src+'" frameborder="0" allowTransparency="true" name="popup_'+o.numbers+'" id="popupIframe_'+o.numbers+'"></iframe>'),a.push("</div>");break;case 4:a.push('<div class="popup-loading-con"><div class="loading-type-'+e.con.icon+'"></div></div>')}a.push("</div></div>")}(),t=["z-index:"+o.zIndex++],!isNaN(e.size.width)&&t.push(" width:"+e.size.width+"px"),!isNaN(e.size.height)&&t.push(" height:"+e.size.height+"px"),o.popup=c("<div/>",{class:"popup popup-"+o.alertType[e.type-1]+(e.className?" "+e.className:"")+(e.animate&&e.animate.length?" "+e.animate[0]:""),style:t.join(";"),"data-index":o.numbers,id:"popup_"+o.numbers,html:n.join("")+i.join("")+a.join("")}),e.animate&&e.animate.length&&o.popup.attr("data-animated",e.animate),o.popup.appendTo(e.addTarget),o.popupCountWH(),o.popupOffset(),o.popup.on({click:function(){var p=c(this);switch(p.data("action")){case"min":o.popupMin();break;case"max":o.popupMax();break;case"orig":o.popupOrig();break;case"close":o.popupClose();break;case"btn":e.con.btn&&e.con.btn[p.data("btnIndex")].callBack&&e.con.btn[p.data("btnIndex")].callBack(),e.con.btn[p.data("btnIndex")].noClose||o.popupClose()}}},".popup-option .evicon,.popup-but .btn"),e.size.full&&e.opBtn&&e.opBtn.max&&o.popupMax(),isNaN(e.autoClose)||"string"!=typeof e.autoClose&&"number"!=typeof e.autoClose||setTimeout(function(){o.popupClose()},1e3*e.autoClose),o.winObject.topWindow["popup_"+o.numbers]=o},popupOffset:function(){var p=this,t=p.j,o={"t-l":{left:0,top:0},"t-c":{left:"50%",top:0,"margin-left":-p.popup.width()/2+"px"},"t-r":{right:0,top:0},"m-l":{left:0,top:"50%","margin-top":-p.popup.height()/2+"px"},"m-c":{left:"50%",top:"50%","margin-top":-p.popup.height()/2+"px","margin-left":-p.popup.width()/2+"px"},"m-r":{right:0,top:"50%","margin-top":-p.popup.height()/2+"px"},"b-l":{left:0,bottom:0},"b-c":{left:"50%",bottom:0,"margin-left":-p.popup.width()/2+"px"},"b-r":{right:0,bottom:0}};!1===t.position.fixed&&p.popup.css({position:"absolute"}),p.popup.css(o[t.position.pos]||o["m-c"])},popupCountWH:function(){var p,t,o,e=this,i=e.j,n=e.winAttr();switch(i.type){case 3:(o=e.popup.find("iframe")).on("load.resize",function(){var p,t;o.siblings(".popup-loading-wait").remove(),o[0].contentWindow.iframeNumber=e.numbers,o[0].contentWindow.popup=e,i.size.full?o.css({width:"100%",height:e.popup.height()-(i.head?e.popup.find(".popup-head").outerHeight()+5:0)+"px"}):o.css({width:("auto"===i.size.width?o.contents().width():i.size.width)+"px",height:("auto"===i.size.height?o.contents().height():i.size.height-(i.head?e.popup.find(".popup-head").outerHeight()+5:0))+"px"}),p=i.size.width,t=i.size.height,p="auto"===p?e.popup.width():p,t="auto"===t?e.popup.height():t,p=p>n.winW?n.winW-10:p,t=t>n.winH?n.winH-10:t,e.popup.css({width:p+"px",height:t+"px"}),o.css({width:p+"px",height:t-(i.head?e.popup.find(".popup-head").outerHeight()+5:0)+"px"}),e.popupOffset()});break;default:p=i.size.width,t=i.size.height,p="auto"===p?e.popup.width():p,t="auto"===t?e.popup.height():t,p=p>n.winW?n.winW-10:p,t=t>n.winH?n.winH-10:t,e.popup.css({width:p+"px",height:t+"px"})}},popupMin:function(){var p=this,t=p.j;!p.originStyle&&(p.originStyle=p.popup.attr("style"));var o=p.popup.css("z-index"),e="bottom: 0; left:"+210*t.addTarget.find(".popup-size-min").length+"px; margin: 0; z-index:"+o+";";p.popup.addClass("popup-size-min").removeClass("popup-size-max").attr({style:e}),p.popupShade&&p.popupShade.hide()},popupMax:function(){var p=this;!p.originStyle&&(p.originStyle=p.popup.attr("style"));var t="z-index:"+p.popup.css("z-index")+";";p.popup.addClass("popup-size-max").removeClass("popup-size-min").attr({style:t}),p.popupShade&&p.popupShade.show()},popupOrig:function(){var p=this,t=p.j;p.popup.removeClass("popup-size-max popup-size-min").attr({style:p.originStyle}),p.popupShade&&p.popupShade.show(),t.size.full&&t.opBtn&&t.opBtn.max&&p.popupOffset()},popupClose:function(){var p=this,t=p.j;t.animate&&t.animate.length&&p.popup.removeClass(t.animate[0]).addClass(t.animate[1]),setTimeout(function(){"function"==typeof t.closeCallBack&&t.closeCallBack(),p.popup.remove(),p.popupShade&&p.popupShade.remove(),p.winObject.topWindow["popup_"+p.numbers]=null,p=null},210)},popupDrag:function(){this.j.head&&this.popup.drag({parent:"parent",randomPosition:!1,direction:"all",handler:".popup-head"})}},c.popup=function(p){return new u(p)},c.popupAlert=function(p){switch(!0){case c.isArray(p):p={head:p[0],con:{html:p[1],btn:{btn1:{callBack:p[2]}}}};break;case c.isPlainObject(p):p.type=1}return new u(c.extend(!0,{},{type:1,position:{pos:"m-c"},opBtn:{close:1,min:0,max:0},size:{width:300},con:{html:"提示信息",icon:3,btn:{btn1:{text:"确定",className:"btn-primary"}}}},p))},c.popupPoint=function(p){return c.isArray(p)&&(p={con:{html:p[0],icon:p[1]},autoClose:p[2],closeCallBack:p[3]}),new u(c.extend(!0,{},{type:1,head:!1,shade:{close:0},position:{pos:"m-c"},opBtn:!1,con:{html:"提示信息",icon:1,btn:!1},autoClose:1},p))},c.popupConfirm=function(p){return c.isArray(p)&&(p={head:p[0],con:{html:p[1],btn:{btn1:{callBack:p[2]},btn2:{callBack:p[3]}}}}),new u(c.extend(!0,{},{type:1,position:{pos:"m-c"},opBtn:{close:1,min:0,max:0},size:{width:300},con:{html:"提示信息",icon:3,btn:{btn1:{text:"确定",className:"btn-primary"},btn2:{text:"取消",className:"btn-outline-danger"}}}},p))},c.popupPrompt=function(p){c("input");return c.isArray(p)&&(p={head:p[0],con:{text:p[1],btn:{btn1:{callBack:p[2]},btn2:{callBack:p[3]}}},closeCallBack:p[3]}),new u(c.extend(!0,{},{type:1,position:{pos:"m-c"},opBtn:{close:1,min:0,max:0},size:{width:300},con:{icon:1,btn:{btn1:{text:"确定",className:"btn-primary"},btn2:{text:"取消",className:"btn-outline-danger"}}}},p))},c.popupHtml=function(p){var t,o,e=c(s),i=function(p){return p instanceof jQuery?p=p.html():"string"==typeof p&&-1!=c.inArray(p.substr(0,1),[".","#"])&&c(p).length&&(p=c(p).html()),p};switch(!0){case c.isArray(p):p={head:p[0],con:{html:i(p[1])},size:{width:(o="auto",p[2]&&(o=p[2]>e.width()?e.width()-20:p[2]),o),height:(t="auto",p[3]&&(t=p[3]>e.width()?e.width()-20:p[3]),t)},closeCallBack:p[4]};break;case c.isPlainObject(p):p.type=2,p.con.html=i(p.con.html)}return new u(c.extend(!0,{},{type:2,head:"HTML层",position:{pos:"m-c"},opBtn:{close:1,min:0,max:1},con:{html:"<p>这是html代码</p>"}},p))},c.popupIframe=function(p){var t,o,e=c(s);return c.isArray(p)&&(p={head:p[0],con:{src:p[1]},size:{width:(o="auto",p[2]&&(o=p[2]>e.width()?e.width()-20:p[2]),o),height:(t="auto",p[3]&&(t=p[3]>e.width()?e.width()-20:p[3]),t)},closeCallBack:p[4]}),new u(c.extend(!0,{},{type:3,position:{pos:"m-c"},opBtn:{close:1,max:0,min:0},con:{src:"http://www.evyun.cn"}},p))},c.popupLoading=function(p){return c.isArray(p)&&(p={con:{icon:p[0]},autoClose:p[1],closeCallBack:p[2]||null}),new u(c.extend(!0,{},{type:4,head:!1,shade:{close:0},position:{pos:"m-c"},opBtn:!1,con:{icon:1}},p))}}(window,jQuery),$(document).on("click.popup",'[data-toggle="popup"]',function(p){var t=$(this).data();switch(t.popupType){case"alert":$.popupAlert([t.popupHead,t.popupHint]);break;case"point":$.popupPoint([t.popupHint,t.popupIcontype,t.popupClosetiem]);break;case"html":$.popupHtml([t.popupHead,t.popupTarget,t.popupWidth,t.popupHeight]);break;case"loading":$.popupLoading([t.popupIcontype,t.popupClosetiem]);break;case"iframe":$.popupIframe([t.popupHead,t.popupSrc,t.popupWidth,t.popupHeight])}});